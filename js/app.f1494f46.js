(function(){"use strict";var e={6683:function(e,n,l){var t=l(9242),o=l(3396);function a(e,n,l,t,a,r){const u=(0,o.up)("HelloWorld");return(0,o.wg)(),(0,o.j4)(u,{msg:"Welcome to Your Vue.js App"})}var r=l(7139);const u=e=>((0,o.dD)("data-v-72030e8b"),e=e(),(0,o.Cn)(),e),i={class:"form-group"},s=u((()=>(0,o._)("label",null,"Ligne",-1))),c={class:"form-group"},d=u((()=>(0,o._)("label",null,"Luminosité",-1))),p=u((()=>(0,o._)("option",{value:1},"Faible",-1))),f=u((()=>(0,o._)("option",{value:2},"Moyen",-1))),m=u((()=>(0,o._)("option",{value:3},"Fort",-1))),h=[p,f,m],v={class:"form-group"},g=u((()=>(0,o._)("label",null,"Couleur arrière plan",-1))),y=u((()=>(0,o._)("option",{value:null},null,-1))),b=["value"],w={class:"form-group"},_=u((()=>(0,o._)("label",null,"Type",-1))),C=["onUpdate:modelValue"],S=u((()=>(0,o._)("option",null,"TEXT",-1))),q=u((()=>(0,o._)("option",null,"CHRONO",-1))),k=[S,q],U={key:0,class:"form-group"},O=u((()=>(0,o._)("label",null,"Date",-1))),V=["onUpdate:modelValue"],x={class:"form-group"},D=u((()=>(0,o._)("label",null,"Text",-1))),T=["onUpdate:modelValue"],E={class:"form-group"},H=u((()=>(0,o._)("label",null,"Couleur",-1))),j=["onUpdate:modelValue"],A=u((()=>(0,o._)("option",{value:null},null,-1))),M=["value"],R={class:"form-group"},F=u((()=>(0,o._)("label",null,"Delay",-1))),N=["onUpdate:modelValue"],B={class:"form-group"},Y=u((()=>(0,o._)("label",null,"Flash",-1))),z=["onUpdate:modelValue"],L={key:1,class:"form-group"},W=u((()=>(0,o._)("label",null,"Nombre de Flashs",-1))),K=["onUpdate:modelValue"],P={key:2,class:"form-group"},I=u((()=>(0,o._)("label",null,"Vitesse du Flashs",-1))),G=["onUpdate:modelValue"],J=["onClick"],X=u((()=>(0,o._)("br",null,null,-1))),Z=u((()=>(0,o._)("br",null,null,-1)));function Q(e,n,l,a,u,p){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",i,[s,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":n[0]||(n[0]=e=>u.row=e)},[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(["1","2","3","4","5","6","7","8","9","10","A","B","C","D","E","F","G","H","I","J","K"],(e=>(0,o._)("option",{key:e,value:1},(0,r.zw)(e),1))),64))],512),[[t.bM,u.row]])]),(0,o._)("div",c,[d,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":n[1]||(n[1]=e=>u.lightness=e)},h,512),[[t.bM,u.lightness]])]),(0,o._)("div",v,[g,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":n[2]||(n[2]=e=>u.backgroundColor=e)},[y,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.colors,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:e.value},(0,r.zw)(e.name),9,b)))),128))],512),[[t.bM,u.backgroundColor]])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.sequences,((e,n)=>((0,o.wg)(),(0,o.iD)("fieldset",{key:e},[(0,o._)("legend",null,"Sequence "+(0,r.zw)(n+1),1),(0,o._)("div",w,[_,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":n=>e.type=n},k,8,C),[[t.bM,e.type]])]),"CHRONO"==e.type?((0,o.wg)(),(0,o.iD)("div",U,[O,(0,o.wy)((0,o._)("input",{type:"datetime-local","onUpdate:modelValue":n=>e.date=n,step:"1"},null,8,V),[[t.nr,e.date]])])):(0,o.kq)("",!0),(0,o._)("div",x,[D,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":n=>e.text=n},null,8,T),[[t.nr,e.text]])]),(0,o._)("div",E,[H,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":n=>e.color=n},[A,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.colors,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:e.value},(0,r.zw)(e.name),9,M)))),128))],8,j),[[t.bM,e.color]])]),(0,o._)("div",R,[F,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":n=>e.delay=n},null,8,N),[[t.nr,e.delay]]),(0,o.Uk)(" ms (0 si infini) ")]),(0,o._)("div",B,[Y,(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":n=>e.flash=n},null,8,z),[[t.e8,e.flash]])]),e.flash?((0,o.wg)(),(0,o.iD)("div",L,[W,(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":n=>e.flashCounter=n,min:"0",max:"9"},null,8,K),[[t.nr,e.flashCounter]])])):(0,o.kq)("",!0),e.flash?((0,o.wg)(),(0,o.iD)("div",P,[I,(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":n=>e.flashSpeed=n,min:"0",max:"3"},null,8,G),[[t.nr,e.flashSpeed]])])):(0,o.kq)("",!0),(0,o._)("button",{onClick:e=>p.removeSequence(n)},"Supprimer",8,J)])))),128)),(0,o._)("button",{onClick:n[3]||(n[3]=(...e)=>p.addSequence&&p.addSequence(...e))},"Ajouter une sequence"),X,Z,(0,o._)("button",{onClick:n[4]||(n[4]=(...e)=>p.run&&p.run(...e))},"Envoyer")],64)}l(7658),l(1439),l(7585),l(5315);var $=null;async function ee(){null==$&&($=await navigator.serial.requestPort(),await $.open({baudRate:9600,dataBits:8,parity:"none",stopBits:1,bufferSize:255}))}async function ne(e){console.log(e);var n=[];n.push(2);let l=new TextEncoder;n=n.concat(Array.from(l.encode(e))),n.push(10),console.log(n);const t=new Uint8Array(n);console.log(t);try{null==$&&($=await navigator.serial.requestPort(),await $.open({baudRate:9600,dataBits:8,parity:"none",stopBits:1,bufferSize:255}));const e=$.writable.getWriter();await e.write(t),e.releaseLock()}catch(o){console.log(o),alert(o)}}var le={name:"HelloWorld",props:{msg:String},data(){return{timer:null,timerChrono:null,colors:[{value:1,name:"ROUGE"},{value:2,name:"VERT"},{value:3,name:"BLEU"},{value:4,name:"JAUNE"},{value:5,name:"VIOLET"},{value:6,name:"CYAN"},{value:7,name:"BLANC"},{value:8,name:"ORANGE"},{value:9,name:"ROSE"}],row:"1",lightness:2,color:"",backgroundColor:"",sequences:[],repeatSequence:!0}},methods:{addSequence(){this.sequences.push({type:"TEXT",date:null,text:"",color:"",flash:!1,flashCounter:0,flashSpeed:0,delay:0})},removeSequence(e){this.sequences.splice(e,1)},computeChrono(e){const n=new Date,l=n-e,t=Math.floor(l/864e5),o=Math.floor(l%864e5/36e5),a=Math.floor(l%36e5/6e4),r=Math.floor(l%6e4/1e3);var u=o+":"+a.toString().padStart(2,"0")+":"+r.toString().padStart(2,"0");return t>0&&(u=t+"d "+u),u},createCommandFromSequence(e){var n="";n+=this.row,n+=this.lightness,e.flash&&(n+="^fs "+e.flashCounter+" "+e.flashSpeed+"^"),e.color&&(n+="^cs "+e.color+"^");var l=e.text;"CHRONO"==e.type&&(l+=" "+this.computeChrono(new Date(e.date)));const t=8;for(let o=0;o<l.length;o+=t){const a=l.substring(o,o+t);n+="^cs "+e.color+"^",n+=a}return e.flash&&(n+="^fe^"),n},execute(){this.timer&&clearTimeout(this.timer),this.executeSequence(0)},executeSequence(e,n){clearTimeout(this.timerChrono),e>=this.sequences.length&&this.repeatSequence&&(e=0);var l=this.sequences[e];if(e<this.sequences.length){var t=this.createCommandFromSequence(l);ne(t),l.delay>0&&!n&&(this.timer=setTimeout((()=>{this.executeSequence(e+1,!1)}),l.delay))}"CHRONO"==l.type&&(this.timerChrono=setTimeout((()=>{this.executeSequence(e,!0)}),1e3))},async run(){navigator.serial?(await ee(),this.execute()):alert("Web Serial API not supported.")}},created(){this.addSequence()}},te=l(89);const oe=(0,te.Z)(le,[["render",Q],["__scopeId","data-v-72030e8b"]]);var ae=oe,re={name:"App",components:{HelloWorld:ae}};const ue=(0,te.Z)(re,[["render",a]]);var ie=ue;(0,t.ri)(ie).mount("#app")}},n={};function l(t){var o=n[t];if(void 0!==o)return o.exports;var a=n[t]={exports:{}};return e[t].call(a.exports,a,a.exports,l),a.exports}l.m=e,function(){var e=[];l.O=function(n,t,o,a){if(!t){var r=1/0;for(c=0;c<e.length;c++){t=e[c][0],o=e[c][1],a=e[c][2];for(var u=!0,i=0;i<t.length;i++)(!1&a||r>=a)&&Object.keys(l.O).every((function(e){return l.O[e](t[i])}))?t.splice(i--,1):(u=!1,a<r&&(r=a));if(u){e.splice(c--,1);var s=o();void 0!==s&&(n=s)}}return n}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[t,o,a]}}(),function(){l.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(n,{a:n}),n}}(),function(){l.d=function(e,n){for(var t in n)l.o(n,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};l.O.j=function(n){return 0===e[n]};var n=function(n,t){var o,a,r=t[0],u=t[1],i=t[2],s=0;if(r.some((function(n){return 0!==e[n]}))){for(o in u)l.o(u,o)&&(l.m[o]=u[o]);if(i)var c=i(l)}for(n&&n(t);s<r.length;s++)a=r[s],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(c)},t=self["webpackChunkdigital_js"]=self["webpackChunkdigital_js"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=l.O(void 0,[998],(function(){return l(6683)}));t=l.O(t)})();
//# sourceMappingURL=app.f1494f46.js.map